<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/bitsincloud-blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=bitsincloud-blog/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>üì¶ Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF | BitsInCloud</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF">
    <meta name="generator" content="Hugo 0.145.0">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/bitsincloud-blog/ananke/css/main.min.css" >




    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/bitsincloud-blog/posts/event-carried-state-transfer-ecst-vs-command-via-messaging/">
    

    <meta property="og:url" content="http://localhost:1313/bitsincloud-blog/posts/event-carried-state-transfer-ecst-vs-command-via-messaging/">
  <meta property="og:site_name" content="BitsInCloud">
  <meta property="og:title" content="üì¶ Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF">
  <meta property="og:description" content="Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-09T20:14:52-03:00">
    <meta property="article:modified_time" content="2025-03-09T20:14:52-03:00">
    <meta property="article:tag" content="EC2">
    <meta property="article:tag" content="Blog">
    <meta property="article:tag" content="Hugo">

  <meta itemprop="name" content="üì¶ Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF">
  <meta itemprop="description" content="Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF">
  <meta itemprop="datePublished" content="2025-03-09T20:14:52-03:00">
  <meta itemprop="dateModified" content="2025-03-09T20:14:52-03:00">
  <meta itemprop="wordCount" content="510">
  <meta itemprop="keywords" content="EC2,Blog,Hugo">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="üì¶ Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF">
  <meta name="twitter:description" content="Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF">

	
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/bitsincloud-blog/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        BitsInCloud
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">üì¶ Event-Carried State Transfer (ECST) vs Command via Messaging vs BFF</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2025-03-09T20:14:52-03:00">March 9, 2025</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Neste artigo, explico de forma pr√°tica e objetiva os padr√µes <strong>ECST</strong>, <strong>Command via Messaging</strong> e como eles se comparam ao tradicional <strong>BFF (Backend for Frontend)</strong> em uma arquitetura de microsservi√ßos.</p>
<hr>
<h2 id="-1-event-carried-state-transfer-ecst">üìò 1. Event-Carried State Transfer (ECST)</h2>
<h3 id="-defini√ß√£o-t√©cnica">‚úÖ Defini√ß√£o t√©cnica</h3>
<blockquote>
<p>Event-Carried State Transfer √© um padr√£o onde um servi√ßo, ao modificar um dado (como criar ou atualizar um cliente), <strong>emite um evento contendo o estado completo da entidade</strong>. Outros servi√ßos que precisem desses dados escutam esse evento e mant√™m uma c√≥pia local, garantindo <strong>consist√™ncia eventual</strong>.</p></blockquote>
<h3 id="-explica√ß√£o-facilitada">üí° Explica√ß√£o facilitada</h3>
<p>Imagine o <code>cliente-service</code> como o servi√ßo principal de cadastro de clientes. Quando ele cria ou atualiza um cliente, ele <strong>avisa os outros servi√ßos</strong> enviando um evento com <strong>todos os dados</strong> do cliente (nome, e-mail, etc).</p>
<p>Outros servi√ßos (como um <code>marketing-service</code>) escutam esse evento e <strong>atualizam seu banco local</strong>, sem precisar perguntar diretamente ao <code>cliente-service</code>.</p>
<hr>
<h2 id="-2-command-via-messaging">üìò 2. Command via Messaging</h2>
<h3 id="-defini√ß√£o-t√©cnica-1">‚úÖ Defini√ß√£o t√©cnica</h3>
<blockquote>
<p>Command via Messaging √© um padr√£o onde um servi√ßo envia uma <strong>mensagem com uma inten√ß√£o clara (um comando)</strong> para outro servi√ßo realizar uma a√ß√£o espec√≠fica, como criar um novo cliente. Essa mensagem √© processada de forma ass√≠ncrona por quem recebe.</p></blockquote>
<h3 id="-explica√ß√£o-facilitada-1">üí° Explica√ß√£o facilitada</h3>
<p>Imagine que o <code>API Gateway</code> quer cadastrar um novo cliente. Em vez de chamar diretamente o <code>cliente-service</code> via HTTP, ele <strong>envia uma mensagem</strong> para uma fila dizendo:</p>
<blockquote>
<p>‚Äú<code>cliente-service</code>, por favor, **crie esse cliente com nome e email X`‚Äù.</p></blockquote>
<p>O <code>cliente-service</code> escuta essa fila, processa a mensagem e salva o cliente no banco.</p>
<hr>
<h2 id="-compara√ß√£o-com-bff-backend-for-frontend">üîÑ Compara√ß√£o com BFF (Backend for Frontend)</h2>
<table>
  <thead>
      <tr>
          <th>Conceito</th>
          <th>ECST</th>
          <th>Command via Messaging</th>
          <th>BFF (Backend for Frontend)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Tipo de comunica√ß√£o</td>
          <td><strong>Evento</strong></td>
          <td><strong>Comando</strong></td>
          <td><strong>Requisi√ß√£o direta HTTP</strong></td>
      </tr>
      <tr>
          <td>Quem inicia a a√ß√£o?</td>
          <td>Servi√ßo que det√©m os dados</td>
          <td>Outro servi√ßo ou gateway</td>
          <td>Frontend via browser ou app</td>
      </tr>
      <tr>
          <td>Objetivo</td>
          <td>Notificar mudan√ßa de estado</td>
          <td>Solicitar que outro servi√ßo execute uma a√ß√£o</td>
          <td>Adaptar chamadas para m√∫ltiplos servi√ßos</td>
      </tr>
      <tr>
          <td>Quem salva os dados?</td>
          <td>Servi√ßo original (dono do estado)</td>
          <td>Servi√ßo que recebeu o comando</td>
          <td>BFF n√£o salva, apenas coordena</td>
      </tr>
      <tr>
          <td>Forma de acoplamento</td>
          <td>Fraco (publica/escuta)</td>
          <td>Fraco (comando ass√≠ncrono)</td>
          <td>M√©dio (precisa conhecer os servi√ßos chamados)</td>
      </tr>
      <tr>
          <td>Comunica√ß√£o</td>
          <td>Ass√≠ncrona (eventos via fila)</td>
          <td>Ass√≠ncrona (comando via fila)</td>
          <td>S√≠ncrona (requisi√ß√µes HTTP)</td>
      </tr>
      <tr>
          <td>Exemplo de uso</td>
          <td><code>cliente-service</code> envia evento com cliente criado</td>
          <td><code>API Gateway</code> envia comando para criar cliente</td>
          <td>Frontend chama <code>/bff/clientes</code> que redireciona</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-quando-usar-cada-um">‚úçÔ∏è Quando usar cada um?</h2>
<table>
  <thead>
      <tr>
          <th>Situa√ß√£o</th>
          <th>Ideal</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Voc√™ quer manter c√≥pias locais de dados em outros servi√ßos</td>
          <td>‚úÖ ECST</td>
      </tr>
      <tr>
          <td>Voc√™ quer executar uma a√ß√£o remota de forma desacoplada</td>
          <td>‚úÖ Command via Messaging</td>
      </tr>
      <tr>
          <td>Voc√™ precisa adaptar dados de m√∫ltiplos servi√ßos para o front</td>
          <td>‚úÖ BFF</td>
      </tr>
      <tr>
          <td>Voc√™ quer que os servi√ßos sejam independentes e resilientes</td>
          <td>ECST ou Command via Messaging</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-conclus√£o">üöÄ Conclus√£o</h2>
<ul>
<li>O <strong>ECST</strong> √© excelente para replicar dados entre servi√ßos e reduzir acoplamento.</li>
<li>O <strong>Command via Messaging</strong> ajuda a executar a√ß√µes entre servi√ßos sem depend√™ncia direta.</li>
<li>O <strong>BFF</strong> continua sendo √∫til para adaptar dados entre o front-end e os microservi√ßos, mas tem maior acoplamento.</li>
</ul>
<p>Cada padr√£o tem seu contexto ideal, e us√°-los corretamente ajuda a construir sistemas mais <strong>resilientes, escal√°veis e desacoplados</strong>.</p>
<hr>
<p>üí¨ Gostou? Tem d√∫vidas ou quer ver exemplos pr√°ticos com Spring Boot e RabbitMQ? Deixe seu coment√°rio ou me chame!</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/bitsincloud-blog/tags/ec2/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">EC2</a>
   </li>
  
   <li class="list di">
     <a href="/bitsincloud-blog/tags/blog/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Blog</a>
   </li>
  
   <li class="list di">
     <a href="/bitsincloud-blog/tags/hugo/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Hugo</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/bitsincloud-blog/posts/ec2-fleet/">Ec2 Fleet - Como Criar uma Frota de EC2 e fazer o escalonamento</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/bitsincloud-blog/posts/meu-primeiro-post/">Bem Vindo ao Meu Blog</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/bitsincloud-blog/" >
    &copy;  BitsInCloud 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
